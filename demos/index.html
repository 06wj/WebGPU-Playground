<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebGPU Playground</title>
</head>
<body>
    <div id='not-supported'>
        Your browser does not support WebGPU, please visit <a href='https://webgpu.io' target="_blank">webgpu.io</a> for more information.
    </div>
    <script>
        const tokens = {
            github: 'AgcvmTXwG5xoXlLzm0XyYAM98KY5a4p5Xwir0z4AT+UcGpEXOjLJMu0JpMr3E8RJB551wGMYTKv12CYpdo38iQUAAABheyJvcmlnaW4iOiJodHRwczovLzA2d2ouZ2l0aHViLmlvOjQ0MyIsImZlYXR1cmUiOiJXZWJHUFUiLCJleHBpcnkiOjE2NzUyMDk1OTksImlzU3ViZG9tYWluIjp0cnVlfQ==',
            gitee: 'AlVHJjkqWKAO0p8TbuvHaoEB5i5v6xaXW3zRHHw62h+eh0BVUvQXuI4fHb6gQPn/l7l+/+EYaIb/lHa36f+LrgQAAABseyJvcmlnaW4iOiJodHRwczovL2Zvcmstb3Blbi1zb3VyY2UuZ2l0ZWUuaW86NDQzIiwiZmVhdHVyZSI6IldlYkdQVSIsImV4cGlyeSI6MTY3NTIwOTU5OSwiaXNTdWJkb21haW4iOnRydWV9',
            local: 'AstifbSgPaSwf6yY/r59fboB59DHqecwB2DZ0rjtjFH8m1dDxPod8SltikXTvfuHx12skdoa6csPrL/hr78fLwYAAABJeyJvcmlnaW4iOiJodHRwOi8vbG9jYWxob3N0OjIzMzMiLCJmZWF0dXJlIjoiV2ViR1BVIiwiZXhwaXJ5IjoxNjc1MjA5NTk5fQ=='
        };
        const meta = document.createElement('meta');
        meta.setAttribute('http-equiv', 'origin-trial');
        let token = tokens.github;
        if (location.href.indexOf('gitee') > -1) {
            token = tokens.gitee;
        } else if (location.href.indexOf('local') > -1) {
            token = tokens.local;
        }

        meta.setAttribute('content', token);
        document.head.appendChild(meta);
    </script>
    <canvas id='canvas'></canvas>
    <script>
        window.showNotSupport = () => {
            alert('Your browser does not support WebGPU!');
            document.body.querySelector('#not-supported').style.display = 'block';
        };
        if (!navigator.gpu) {
            showNotSupport();
        } else {
            navigator.gpu.requestAdapter().catch(() => {
                showNotSupport();
            });
        }
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebGPU Playground</title>
</head>
<body>
    <div id='not-supported'>
        Your browser does not support WebGPU, please visit <a href='https://webgpu.io' target="_blank">webgpu.io</a> for more information.
    </div>
    <script>
        const tokens = {
            github: 'AtcT4sZLHTPMECN4deXn5YPQ42xri/TDLSjty4sOfKsLv+qVdxWzflooCqib9oQNEpIrD3oCo3G3TFfkRlx9jQsAAABheyJvcmlnaW4iOiJodHRwczovLzA2d2ouZ2l0aHViLmlvOjQ0MyIsImZlYXR1cmUiOiJXZWJHUFUiLCJleHBpcnkiOjE2NTI4MzE5OTksImlzU3ViZG9tYWluIjp0cnVlfQ==',
            gitee: 'Ash3N0lTD693hvd4K2gDSLSO53fBfj5V3rv3GgDPNfrEc7Dg2fmhxncKNJOa+K3ydyR72TNnMNi+noUtVYXfvAwAAABseyJvcmlnaW4iOiJodHRwczovL2Zvcmstb3Blbi1zb3VyY2UuZ2l0ZWUuaW86NDQzIiwiZmVhdHVyZSI6IldlYkdQVSIsImV4cGlyeSI6MTY1MjgzMTk5OSwiaXNTdWJkb21haW4iOnRydWV9',
            local: 'AirHLyRe8xLzzbj4EPSzk7ll/1r7UsgFSeqk4SSFO5nxCpqxbXFRkmKXEZOWbTd3eCdINWcivRuWa5C7NOS8ZAQAAABJeyJvcmlnaW4iOiJodHRwOi8vbG9jYWxob3N0OjIzMzMiLCJmZWF0dXJlIjoiV2ViR1BVIiwiZXhwaXJ5IjoxNjUyODMxOTk5fQ=='
        };
        const meta = document.createElement('meta');
        meta.setAttribute('http-equiv', 'origin-trial');
        let token = tokens.github;
        if (location.href.indexOf('gitee') > -1) {
            token = tokens.gitee;
        } else if (location.href.indexOf('local') > -1) {
            token = tokens.local;
        }

        meta.setAttribute('content', token);
        document.head.appendChild(meta);
    </script>
    <canvas id='canvas'></canvas>
    <script>
        window.showNotSupport = () => {
            alert('Your browser does not support WebGPU!');
            document.body.querySelector('#not-supported').style.display = 'block';
        };
        if (!navigator.gpu) {
            showNotSupport();
        } else {
            navigator.gpu.requestAdapter().catch(() => {
                showNotSupport();
            });
        }
    </script>
</body>
</html>